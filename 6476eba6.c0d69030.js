(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{68:function(e,t,n){"use strict";n.r(t),n.d(t,"frontMatter",(function(){return i})),n.d(t,"metadata",(function(){return r})),n.d(t,"rightToc",(function(){return l})),n.d(t,"default",(function(){return s}));var a=n(2),c=n(6),o=(n(0),n(86)),i={id:"usage",title:"Usage"},r={unversionedId:"usage",id:"usage",isDocsHomePage:!1,title:"Usage",description:"1. Initiate an empty contract project",source:"@site/docs/usage.md",permalink:"/usage",editUrl:"https://github.com/facebook/docusaurus/edit/master/website/docs/usage.md",sidebar:"someSidebar",previous:{title:"Installation",permalink:"/installation"},next:{title:"Network configurations",permalink:"/configurations"}},l=[{value:"1. Initiate an empty contract project",id:"1-initiate-an-empty-contract-project",children:[]},{value:"2. Compile the contract project",id:"2-compile-the-contract-project",children:[]},{value:"3. Deploy a private contract",id:"3-deploy-a-private-contract",children:[]},{value:"4. Test the contracts",id:"4-test-the-contracts",children:[]}],p={rightToc:l};function s(e){var t=e.components,n=Object(c.a)(e,["components"]);return Object(o.b)("wrapper",Object(a.a)({},p,n,{components:t,mdxType:"MDXLayout"}),Object(o.b)("h3",{id:"1-initiate-an-empty-contract-project"},"1. Initiate an empty contract project"),Object(o.b)("p",null,"Create an empty contract directory and navigate to it and initialize the project"),Object(o.b)("pre",null,Object(o.b)("code",Object(a.a)({parentName:"pre"},{className:"language-bash"}),"mirror init\n")),Object(o.b)("p",null,"The init command executed on an empty directory will create a basic project structure as below:"),Object(o.b)("pre",null,Object(o.b)("code",Object(a.a)({parentName:"pre"},{}),"\u251c\u2500\u2500 contract\n\u2502   \u251c\u2500\u2500 SomeContract.sol\n\u251c\u2500\u2500 migration\n\u2502   \u251c\u2500\u2500 index.js\n\u251c\u2500\u2500 wallet\n\u2502   \u251c\u2500\u2500 keys.js\n\u251c\u2500\u2500 test\n\u2502   \u251c\u2500\u2500 SomeContract.test.js\n\u251c\u2500\u2500 mirror-config.js\n")),Object(o.b)("p",null,"Once the project is initialized, install the dependencies"),Object(o.b)("pre",null,Object(o.b)("code",Object(a.a)({parentName:"pre"},{}),"npm install\n")),Object(o.b)("h3",{id:"2-compile-the-contract-project"},"2. Compile the contract project"),Object(o.b)("p",null,"All the solidity contracts inside the ",Object(o.b)("inlineCode",{parentName:"p"},"contract")," directory will be compiled and corresponding  ",Object(o.b)("strong",{parentName:"p"},"ABI")," and binary files will be\nstored in the ",Object(o.b)("inlineCode",{parentName:"p"},"build")," directory."),Object(o.b)("pre",null,Object(o.b)("code",Object(a.a)({parentName:"pre"},{className:"language-bash"}),"mirror compile\n")),Object(o.b)("h3",{id:"3-deploy-a-private-contract"},"3. Deploy a private contract"),Object(o.b)("p",null,"The configuration related to the contracts that need to deployed is maintained in the ",Object(o.b)("inlineCode",{parentName:"p"},"migration/index.js")," file.\nThis operation also requires the node information to be maintained at ",Object(o.b)("inlineCode",{parentName:"p"},"mirror-congig.js")," so that it can communicate with all the nodes on which the contract needs to be deployed."),Object(o.b)("p",null,"You can deploy the contract once all the configuration is updated."),Object(o.b)("pre",null,Object(o.b)("code",Object(a.a)({parentName:"pre"},{className:"language-bash"}),"mirror deploy --private\n")),Object(o.b)("p",null,"The deployment is where the mirror tool is very handy as it supports all the privacy concepts on Hypeledger Besu.\nIt supports both onchain and off chain privacy groups of Orion nodes while performing the contract deployment. Refer the ",Object(o.b)("a",Object(a.a)({parentName:"p"},{href:"./configurations"}),"network configuration")," for more details on this."),Object(o.b)("h3",{id:"4-test-the-contracts"},"4. Test the contracts"),Object(o.b)("p",null,"Tests written inside the ",Object(o.b)("inlineCode",{parentName:"p"},"test")," directory will be executed."),Object(o.b)("pre",null,Object(o.b)("code",Object(a.a)({parentName:"pre"},{className:"language-bash"}),"mirror test\n")))}s.isMDXComponent=!0}}]);